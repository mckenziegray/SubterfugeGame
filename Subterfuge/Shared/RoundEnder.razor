@inject GameService Game

@code {
    protected void EndRound()
    {
        if (!Game.Agents[nameof(Android)].IsActive && !Game.Agents[nameof(Drudge)].IsActive && !Game.Agents[nameof(Mastermind)].IsActive)
        {
            // Win
            Nav.NavigateTo("/gameover/true");
        }
        else if (!Game.Agents.OrderedList.Any(a => a.Allegiance == Allegiance.Ally && a.IsActive))
        {
            // Lose
            Nav.NavigateTo("/gameover/false");
        }
        else
        {
            // Keep playing
            Game.EndRound();
            Nav.NavigateTo("/selectagents");
        }
    }
}
